<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>For My BABU ‚ù§Ô∏è</title>

<style>
:root {
    --pink: #ff2e63;
    --glass: rgba(255, 255, 255, 0.22);
    --soft-white: rgba(255, 255, 255, 0.9);
}

* { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

body {
    margin: 0;
    height: 100dvh; 
    background: linear-gradient(135deg, #ff4e8d, #ff9a9e);
    font-family: 'Segoe UI', Roboto, sans-serif;
    color: white;
    display: flex;
    justify-content: center;
    align-items: center;
    overflow: hidden; /* Important: Prevents the screen from scrolling when button moves */
    padding: 10px;
}

.heart {
    position: fixed;
    bottom: -20px;
    opacity: .6;
    animation: floatUp linear infinite;
    pointer-events: none;
    z-index: 0;
}
@keyframes floatUp { to { transform: translateY(-120vh); opacity: 0; } }

/* ===== CARD DESIGN ===== */
.card {
    background: var(--glass);
    backdrop-filter: blur(15px);
    -webkit-backdrop-filter: blur(15px);
    padding: clamp(15px, 5vw, 25px);
    border-radius: 24px;
    width: 100%;
    max-width: 380px;
    max-height: 90dvh;
    text-align: center;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
    display: none;
    border: 1px solid rgba(255, 255, 255, 0.3);
    z-index: 10;
    overflow-y: auto;
}

h2 { font-size: clamp(1.2rem, 6vw, 1.8rem); margin: 10px 0; }
p { font-size: clamp(0.9rem, 4vw, 1rem); line-height: 1.5; }
.day-emoji { font-size: clamp(50px, 15vw, 75px); margin-bottom: 10px; display: block; }

/* ===== BUTTONS ===== */
.buttons-row { 
    display: flex; 
    justify-content: center; 
    gap: 10px; 
    flex-wrap: wrap; 
    margin-top: 15px;
    min-height: 60px; /* Space for buttons */
}

button {
    padding: 12px 20px;
    border-radius: 35px;
    border: none;
    cursor: pointer;
    font-size: 15px;
    transition: transform 0.2s;
    font-weight: bold;
}

#unlockBtn, #nextBtn, #yesBtn, .main-action-btn {
    background: var(--pink);
    color: white;
    box-shadow: 0 4px 15px rgba(255, 46, 99, 0.4);
}

#noBtn { 
    background: white; 
    color: var(--pink); 
    transition: all 0.1s ease; /* Faster transition for the runaway effect */
    z-index: 1000; /* Stays above the card when moving */
}

/* ===== UNBLOCK SECTION ===== */
#unblockSection {
    margin-top: 20px;
    padding: 15px;
    background: rgba(255, 255, 255, 0.15);
    border-radius: 15px;
    display: none;
}

.unblock-text {
    font-size: 13px;
    font-style: italic;
    margin-bottom: 10px;
    color: var(--soft-white);
    text-align: left;
}

/* ===== SLIDESHOW ===== */
#slideshow { display: none; margin-top: 20px; width: 100%; }
.slide { display: none; }
.slide.active { display: block; }
.slide img { width: 100%; aspect-ratio: 4/3; object-fit: cover; border-radius: 15px; border: 3px solid white; }

#lockScreen input {
    padding: 15px; border-radius: 25px; border: none; width: 90%; margin-bottom: 15px;
    text-align: center; font-size: 16px; outline: none;
}
</style>
</head>
<body>

<audio id="bgMusic" loop preload="auto" src="hirohasaimoto-fruit-of-the-heart-454938.mp3"></audio>

<div id="lockScreen" class="card" style="display:block">
    <h2>üîí Hey BABU!</h2>
    <p>Unlock our little secret world üíï</p>
    <input id="password" type="password" placeholder="The secret word...">
    <button id="unlockBtn" style="width:100%">Unlock ‚ù§Ô∏è</button>
</div>

<div id="dailyCard" class="card">
    <span id="dayEmoji" class="day-emoji">üåπ</span>
    <h2 id="dayTitle">Happy Day!</h2>
    <p id="dayMessage"></p>
    <button id="nextBtn" style="width:100%">Go to My Heart üëâ</button>
</div>

<div id="mainCard" class="card">
    <h2 id="mainHeading">Risha‚Ä¶ will you be my Valentine? üíñ</h2>
    
    <div id="btnContainer" class="buttons-row">
        <button id="yesBtn">Yes BABU üíï</button>
        <button id="noBtn">No üò¢</button>
    </div>

    <div id="message" style="margin-top: 15px; font-weight: bold;"></div>
    
    <div id="slideshow">
        <div class="slide active"><img src="photo1.jpeg"><p class="caption">The way you hug me... ü•∫</p></div>
        <div class="slide"><img src="photo2.jpeg"><p class="caption">That smile is my favorite thing ‚ù§Ô∏è</p></div>
    </div>

    <div id="unblockSection">
        <p style="font-size: 14px; margin-bottom: 5px;"><b>A Small Request... ü•∫</b></p>
        <p class="unblock-text">
            "I miss being able to talk to you. I promise I won't disturb your peace or spam you. It would mean the world if you'd consider unblocking me."
        </p>
        <button id="actionBtn" class="main-action-btn" style="width:100%"></button>
    </div>

    <div id="counter" style="font-size: 11px; margin-top: 10px; opacity: 0.8;"></div>
</div>

<script>
/* --- CONFIGURATION --- */
const PASSWORD = "Forever"; 
const WHATSAPP_NUMBER = "917478640411";

/* --- DAILY DATA --- */
const valentineData = {
    7: { emoji: "üåπ", title: "Happy Rose Day!", msg: "A rose for the girl who makes my life smell like heaven.", btnText: "Send Rose & Unblock üåπ", wa: "Happy Rose Day BABU! üåπ\n\nI saw your message. I'll think about unblocking you! ‚ù§Ô∏è" },
    8: { emoji: "üíç", title: "Happy Propose Day!", msg: "I'm asking for every tomorrow.", btnText: "Yes to Propose üíç", wa: "Happy Propose Day! üíç\n\nI said YES! Let's talk! ‚ù§Ô∏è" },
    9: { emoji: "üç´", title: "Happy Chocolate Day!", msg: "You're sweeter than any chocolate, BABU.", btnText: "Send Chocolate üç´", wa: "Happy Chocolate Day! üç´\n\nThanks for being so sweet. ‚ù§Ô∏è" },
    10: { emoji: "üß∏", title: "Happy Teddy Day!", msg: "Sending you a virtual hug-machine.", btnText: "Send Teddy üß∏", wa: "Happy Teddy Day! üß∏\n\nYou're my favorite cuddle partner. ‚ù§Ô∏è" },
    11: { emoji: "ü§ù", title: "Happy Promise Day!", msg: "I promise to be there, always.", btnText: "Accept Promise ü§ù", wa: "Happy Promise Day! ü§ù\n\nI accept your promise. ‚ù§Ô∏è" },
    12: { emoji: "ü´Ç", title: "Happy Hug Day!", msg: "Your hugs are my 'Safe Zone'.", btnText: "Send a Hug ü´Ç", wa: "Happy Hug Day! ü´Ç\n\nSending a big hug back! ‚ù§Ô∏è" },
    13: { emoji: "üíã", title: "Happy Kiss Day!", msg: "A million virtual kisses are waiting.", btnText: "Send a Kiss üíã", wa: "Happy Kiss Day! üíã\n\nMUAH! That was sweet. ‚ù§Ô∏è" },
    14: { emoji: "üíù", title: "Happy Valentine's Day!", msg: "My heart found its home in you, Risha.", btnText: "Be My Valentine üíñ", wa: "HAPPY VALENTINE'S DAY! üíñ\n\nYou win! Let's stay like this forever. ‚ù§Ô∏è" }
};

const today = new Date();
const d = today.getDate();
const m = today.getMonth() + 1;

const lockScreen = document.getElementById("lockScreen");
const dailyCard = document.getElementById("dailyCard");
const mainCard = document.getElementById("mainCard");
const actionBtn = document.getElementById("actionBtn");
const unblockSection = document.getElementById("unblockSection");
const noBtn = document.getElementById("noBtn");

// 1. Unlock
document.getElementById("unlockBtn").onclick = () => {
    if(document.getElementById("password").value === PASSWORD) {
        lockScreen.style.display = "none";
        if(m === 2 && valentineData[d]) {
            const data = valentineData[d];
            document.getElementById("dayEmoji").innerText = data.emoji;
            document.getElementById("dayTitle").innerText = data.title;
            document.getElementById("dayMessage").innerText = data.msg;
            actionBtn.innerText = data.btnText; 
            dailyCard.style.display = "block";
        } else {
            actionBtn.innerText = "Send Love ‚ù§Ô∏è";
            mainCard.style.display = "block";
        }
        document.getElementById("bgMusic").play().catch(() => {});
    } else { alert("Wrong password! ‚ùå"); }
};

document.getElementById("nextBtn").onclick = () => {
    dailyCard.style.display = "none";
    mainCard.style.display = "block";
};

// 2. RUNAWAY NO BUTTON LOGIC
const noTexts = ["No üò¢", "Wait...", "Are you sure?", "BABU Please!", "Don't do this!", "Missed! üòú", "Catch me!", "Just click YES! üòå"];
let escapes = 0;

function moveNo() {
    escapes++;
    if(escapes < noTexts.length) noBtn.innerText = noTexts[escapes];
    
    // Switch to fixed positioning so it moves relative to the entire screen
    noBtn.style.position = "fixed";
    
    // Calculate random position within the whole frame
    const padding = 20;
    const maxX = window.innerWidth - noBtn.offsetWidth - padding;
    const maxY = window.innerHeight - noBtn.offsetHeight - padding;
    
    const randomX = Math.max(padding, Math.random() * maxX);
    const randomY = Math.max(padding, Math.random() * maxY);
    
    noBtn.style.left = randomX + "px";
    noBtn.style.top = randomY + "px";
    
    document.getElementById("counter").innerText = `Dodge count: ${escapes}`;
}

// Trigger on both hover and touch
noBtn.onmouseenter = moveNo;
noBtn.ontouchstart = (e) => { e.preventDefault(); moveNo(); };

// 3. Yes Logic
document.getElementById("yesBtn").onclick = () => {
    document.getElementById("mainHeading").innerText = "You're Mine! ‚ù§Ô∏è";
    document.getElementById("btnContainer").style.display = "none";
    noBtn.style.display = "none"; // Hide the runaway button completely
    document.getElementById("message").innerText = "I knew you'd say yes! You make me the happiest person alive.";
    document.getElementById("slideshow").style.display = "block";
    unblockSection.style.display = "block";
    startSlideshow();
};

// 4. WhatsApp
actionBtn.onclick = () => {
    const data = valentineData[d] || { wa: "Happy Valentine's! ‚ù§Ô∏è" };
    const request = "\n\n(p.s. I read your request and I'll consider unblocking you. I appreciate you promising not to disturb me! ü•∫)";
    window.open(`https://wa.me/${WHATSAPP_NUMBER}?text=${encodeURIComponent(data.wa + request)}`, "_blank");
};

function startSlideshow() {
    let slides = document.querySelectorAll(".slide");
    let i = 0;
    setInterval(() => {
        slides.forEach(s => s.classList.remove("active"));
        i = (i + 1) % slides.length;
        slides[i].classList.add("active");
    }, 3500);
}

// Background Hearts
for(let i=0;i<15;i++){
    const h=document.createElement("div");
    h.className="heart"; h.innerText="‚ù§Ô∏è";
    h.style.left=Math.random()*100+"vw";
    h.style.animationDuration=4+Math.random()*4+"s";
    h.style.fontSize=12+Math.random()*20+"px";
    document.body.appendChild(h);
}
</script>
</body>
</html>
